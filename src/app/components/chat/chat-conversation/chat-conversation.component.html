<div class="conversation-container" *ngIf="selectedChat; else noChat">
  <!-- Cabeçalho do chat -->
  <app-chat-header
    [chat]="selectedChat"
    [currentUserId]="currentUserId">
  </app-chat-header>

  <!-- Área de mensagens com scroll -->
  <app-chat-messages
    [messages]="messages"
    [currentUserId]="currentUserId"
    [currentUserAvatarUrl]="currentUserProfileImageUrl"
    [isGroup]="selectedChat.isGroup"
    [participants]="selectedChat.participants"
    [defaultImage]="defaultImage"
    [chatId]="selectedChat.id.toString()">
  </app-chat-messages>

  <!-- Input de mensagem -->
  <app-chat-input
    (sendMessage)="onMessageSent($event)"
    (inputFocused)="handleInputFocused()"
    [disabled]="sending || loading">
  </app-chat-input>
</div>

<ng-template #noChat>
  <div class="no-conversation-selected">
    <p>Selecione uma conversa para começar</p>
  </div>
</ng-template>
