<div class="chat-list-container">
  <div class="chat-list-header">
    <h3>Conversas</h3>
  </div>
  <div class="chat-list">
    <div *ngFor="let chat of chats" class="chat-item" [class.active]="selectedChatId === chat.id" (click)="selectChat(chat)">
      <div class="chat-avatar">
        <img [src]="getParticipantProfileImage(chat)" alt="Avatar">
      </div>
      <div class="chat-info">
        <div class="chat-name">{{ chat.isGroup ? chat.name : getParticipantName(chat) }}</div>
        <div class="chat-last-message" *ngIf="chat.lastMessage">
          {{ getLastMessagePreview(chat) }}
        </div>
      </div>
      <div class="chat-meta">
        <div class="chat-time" *ngIf="chat.lastMessage">
          {{ chat.lastMessage.timestamp | date:'shortTime' }}
        </div>
        <div class="chat-unread-count" *ngIf="chat.unreadCount && chat.unreadCount > 0">
          <span class="badge">{{ chat.unreadCount }}</span>
        </div>
      </div>
    </div>
    <div *ngIf="chats.length === 0" class="no-chats">
      <p>Nenhuma conversa encontrada</p>
    </div>
  </div>
</div>
