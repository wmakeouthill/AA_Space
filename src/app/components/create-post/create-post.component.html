<div class="create-post-container">
  <h1>Compartilhe Sua História</h1>
  <p class="subtitle">Este é um espaço seguro para compartilhar sua jornada</p>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <form [formGroup]="postForm" (ngSubmit)="onSubmit()" class="post-form">
    <div class="form-group">
      <label for="title">Título</label>
      <input
        type="text"
        id="title"
        formControlName="title"
        placeholder="Ex: Minha jornada de recuperação"
      >
      <div class="error-message" *ngIf="postForm.get('title')?.errors?.['required'] && postForm.get('title')?.touched">
        O título é obrigatório
      </div>
      <div class="error-message" *ngIf="postForm.get('title')?.errors?.['minlength'] && postForm.get('title')?.touched">
        O título deve ter pelo menos 5 caracteres
      </div>
    </div>

    <div class="form-group">
      <label for="content">Sua História</label>
      <textarea
        id="content"
        formControlName="content"
        rows="10"
        placeholder="Compartilhe sua experiência, força e esperança..."
      ></textarea>
      <div class="error-message" *ngIf="postForm.get('content')?.errors?.['required'] && postForm.get('content')?.touched">
        O conteúdo é obrigatório
      </div>
      <div class="error-message" *ngIf="postForm.get('content')?.errors?.['minlength'] && postForm.get('content')?.touched">
        O conteúdo deve ter pelo menos 20 caracteres
      </div>
    </div>

    <div class="form-group checkbox-group">
      <label class="checkbox-label">
        <input type="checkbox" formControlName="isAnonymous">
        Postar anonimamente
      </label>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="!postForm.valid || isSubmitting" class="submit-button">
        {{ isSubmitting ? 'Compartilhando...' : 'Compartilhar História' }}
      </button>
    </div>
  </form>
</div>
